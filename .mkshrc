exitcode() {
    if [ "$?" == "0" ]; then
        printf $'\E[35m'
    else
        printf $'\E[31m'
    fi
}

pwd() (
    pwd=${PWD/#"$HOME"/\~}
    pwd=${pwd%/}/
    printf '%s' "$pwd"
)

PS1='`exitcode``pwd`'$'\E[0m '

HISTFILE="$XDG_CONFIG_HOME"/mksh/history
HISTSIZE=10104096

bind ^[a=beginning-of-line
bind ^[e=end-of-line
bind ^L=clear-screen
bind -m ^[h='^ucd $HOME^[^e^m'

export GPG_TTY=$(tty)

. "$XDG_CONFIG_HOME"/mksh/key-bindings.mksh
. "$XDG_CONFIG_HOME"/mksh/completion.mksh
. "$XDG_CONFIG_HOME"/aliasrc
